---
name: testcase
description: 구현 내용을 기반으로 QA 테스트 케이스를 생성하거나 업데이트합니다. "테스트케이스 만들어줘", "QA 테스트" 등의 요청 시 사용합니다.
---

# 테스트 케이스 생성/업데이트

구현된 기능을 기반으로 QA 테스트 케이스를 작성합니다.

## 실행 절차

1. **프로젝트 루트 확인**
   ```bash
   PROJECT_ROOT=$(git rev-parse --show-toplevel)
   SPECS_DIR="$PROJECT_ROOT/.claude/specs"
   ```

2. **관련 문서 확인**
   - 브랜치명에서 티켓 번호 추출 (예: `sup-596`)
   - `$SPECS_DIR` 폴더의 스펙 문서 확인
   - 기존 테스트케이스 파일 확인 (`*-testcase.md`)

3. **변경사항 분석**
   ```bash
   git --no-pager diff <base-branch>...HEAD
   ```

4. **테스트 시나리오 도출**
   - 정상 동작 케이스
   - 엣지 케이스
   - 에러/예외 케이스
   - 피쳐플래그 ON/OFF 케이스 (기획에 피쳐플래그가 명시된 경우에만)

5. **테스트케이스 파일 생성/업데이트**
   - 파일명: `$SPECS_DIR/{티켓번호}-testcase.md`

## 테스트케이스 문서 구조

```markdown
# [티켓번호] 테스트 케이스

## 테스트 환경
- 대상 앱/플랫폼
- 필요한 설정 (피쳐플래그가 있는 경우에만 기재)

## 테스트 케이스

### 1. [기능명] 정상 동작

| 항목 | 내용 |
|------|------|
| 사전 조건 | ... |
| 테스트 단계 | 1. ... 2. ... |
| 예상 결과 | ... |
| 우선순위 | 높음/중간/낮음 |

### 2. [기능명] 엣지 케이스
...

## 체크리스트

- [ ] 정상 동작 확인
- [ ] 엣지 케이스 확인
- [ ] 에러 처리 확인
- [ ] UI/UX 확인
```

## 테스트 케이스 작성 가이드

### 우선순위 기준
- **높음**: 핵심 기능, 결제/보안 관련
- **중간**: 일반 기능, UI 동작
- **낮음**: 부가 기능, 스타일

### 포함해야 할 케이스
1. **Happy Path**: 정상적인 사용 흐름
2. **Edge Cases**: 경계값, 빈 데이터, 최대값
3. **Error Cases**: 네트워크 에러, 잘못된 입력
4. **Feature Flag**: ON/OFF 각각의 동작 (기획에 피쳐플래그가 명시된 경우에만)
5. **Platform**: iOS/Android 차이점 (있는 경우)

## 용어 통일

- 럭키드로우 → 행운뽑기
- 토큰 → 중간재화
- 리워드 → 보상
