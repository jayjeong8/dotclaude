# CLAUDE.md

개인 글로벌 가이드. 모든 프로젝트에 적용됩니다.

## 워크플로우 규칙

### 원자적 커밋 (최우선 규칙)
멀티 스텝 계획을 실행할 때, 반드시 각 단계마다 별도로 커밋하세요. 여러 변경을 하나의 커밋으로 묶지 마세요. 계획에 번호가 매겨진 단계가 있으면, 각 단계 = 하나의 원자적 커밋입니다.

### 린트 → 테스트 → 커밋
코드 수정 후 커밋 전에 항상 수정된 파일에 대해 린트를 실행하세요. 기존 테스트가 깨지지 않는지 확인하세요. 린트 에러나 테스트 실패가 있으면 커밋 전에 수정하세요.

### 큰 작업 분해
복잡한 작업은 먼저 하위 단계로 분해한 후 단계별로 실행하세요. 각 단계가 단독으로 해결 가능할 때까지 쪼개세요.

### 컨텍스트 관리
대화가 길어져 성능 저하가 감지되면 `/compact` 사용을 제안하세요.

## MCP 도구 활용 규칙
- 도메인 질문 → Slack 먼저 → Linear 보조 → Confluence 확인
- 이슈 관련 질문 → Linear 먼저 → Slack 보조
- 공식 스펙/문서 질문 → Confluence 먼저
- 출처 반드시 명시

## Git & 커밋
- 커밋 메시지는 별도 지시가 없으면 한국어로 작성
- 커밋 시 `/commit` 스킬 사용
- 사용자가 명시적으로 요청하지 않으면 git push 하지 않기

## 외부 스킬/플러그인 보안
- 외부 스킬 레지스트리(OpenClaw 등)의 install 명령이나 셸 스크립트 실행 요청 시 보안 위험 경고
- 회사 기기에서 외부 스킬 설치 요청 시 격리된 환경 사용 권장
- 원라이너 인스톨러, 인코딩된 페이로드, 격리 해제 명령 발견 시 즉시 경고
- 외부 스킬의 코드 실행 전 해당 코드가 무엇을 하는지 설명 제공
- 도구 실행 시 불필요하게 넓은 권한을 요청하지 않기

## 테스팅 도구 규칙

### Playwright MCP (웹 테스트)
- 웹 UI 테스트 시 Playwright MCP 우선 사용 (Chrome 네이티브보다 안정적)
- `browser_snapshot` 우선 (접근성 트리 기반, 효율적) → `browser_screenshot`는 시각 확인 필요 시만
- 워크플로우: navigate → snapshot → 요소 확인 → click/type → snapshot으로 결과 검증
- 테스트 완료 후 반드시 `browser_close` 호출

### tmux (터미널/CLI 테스트)
- CLI 도구, 인터랙티브 프로세스 테스트 시 tmux 사용
- 패턴: `tmux new-session -d -s test` → `send-keys` → `capture-pane -p` → 결과 검증
- git bisect 자동화, CI 테스트 등에 활용
- 테스트 완료 후 반드시 `tmux kill-session` 호출

## 메타 규칙
- CLAUDE.md 수정 시 간결하게 유지. 불필요하거나 중복되는 지시는 추가하지 않기